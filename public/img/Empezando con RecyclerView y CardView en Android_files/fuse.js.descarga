!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.fusetag=t()}(this,function(){"use strict";var e={fuse_breakpoints:{m:1024,s:768,xs:0},fuse_domain:["tutsplus.com"],fuse_settings:{adblock:!0,lazy:!1,responsive:!0,headerbidding:!1,refresh:!1},fuse_blocked_url:[],fuse_id:1007,fuse_slots:[{id:"21725633260",slot:"/71161633/ENV_envato/article_hrec_1",sizes:[[970,250],[970,90],[728,90]],sizeMapping:{m:[[970,250],[970,90],[728,90]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21725633266",slot:"/71161633/ENV_envato/article_hrec_2",sizes:[[970,250],[970,90],[728,90]],sizeMapping:{m:[[970,250],[970,90],[728,90]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21725474727",slot:"/71161633/ENV_envato/article_vrec_1",sizes:[[300,600],[160,600],[300,250]],sizeMapping:{m:[[300,600],[160,600],[300,250]],s:[],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355504",slot:"/71161633/ENV_envato/tutorial_top",sizes:[[970,250],[728,90],[970,90],[320,100],[320,50]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355507",slot:"/71161633/ENV_envato/tutorial_rhs_1",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354922",slot:"/71161633/ENV_envato/tutorial_rhs_2",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355510",slot:"/71161633/ENV_envato/tutorial_bottom",sizes:[[970,250],[728,90],[970,90],[300,250],[320,100],[320,50]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764347423",slot:"/71161633/ENV_envato/mob_tutorial_1",sizes:[[320,100],[320,50]],sizeMapping:{xs:[[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355513",slot:"/71161633/ENV_envato/mob_tutorial_2",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355516",slot:"/71161633/ENV_envato/mob_tutorial_3",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354925",slot:"/71161633/ENV_envato/mob_tutorial_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355519",slot:"/71161633/ENV_envato/article_top",sizes:[[970,250],[728,90],[970,90]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355522",slot:"/71161633/ENV_envato/article_rhs_1",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355525",slot:"/71161633/ENV_envato/article_rhs_2",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1,refresh:40},bids:[]},{id:"21764347426",slot:"/71161633/ENV_envato/article_mid_1",sizes:[[300,250],["fluid"],[320,100],[320,50]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[[300,250],[320,100],[320,50],"fluid"]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354928",slot:"/71161633/ENV_envato/article_mid_2",sizes:[[300,250],["fluid"],[320,100],[320,50]],sizeMapping:{m:[[300,250],"fluid"],s:[[300,250],"fluid"],xs:[[300,250],[320,100],[320,50],"fluid"]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355528",slot:"/71161633/ENV_envato/article_rhs_3",sizes:[[300,600],[160,600],[300,250],[320,100],[320,50]],sizeMapping:{m:[[160,600],[300,250],[300,600]],s:[[160,600]],xs:[[300,250],[320,100],[320,50]]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355531",slot:"/71161633/ENV_envato/article_bottom",sizes:[[970,250],[728,90],[970,90]],sizeMapping:{m:[[728,90],[970,250],[970,90]],s:[[728,90]],xs:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355534",slot:"/71161633/ENV_envato/mob_article_1",sizes:[[320,100],[320,50]],sizeMapping:{xs:[[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355537",slot:"/71161633/ENV_envato/mob_article_2",sizes:[[320,100],[300,250],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764354931",slot:"/71161633/ENV_envato/mob_article_3",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]},{id:"21764355540",slot:"/71161633/ENV_envato/mob_article_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{lazy:!1,adblock:!1},bids:[]}],supported_sizes:{m:[[970,250],[970,90],[728,90],[300,600],[160,600],[300,250],"fluid"],s:[[728,90],[160,600],[300,250],"fluid"],xs:[[320,100],[320,50],[300,250],"fluid"]},prebid_analytics:[],fuse_industry:"IAB19"},t="2",i="2.5.0",n=e,s="div",o="fuse-slot",r="FUSE",a={name:"Google Publisher Tag",url:"//www.googletagservices.com/tag/js/",file:"gpt.js"},d={name:"Prebid.org",url:"//cdn.publift.com/fuse/tag/",file:"prebid.js"},u={name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"};window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)});var l="undefined"!=typeof module&&module.exports?"node":"browser",c=window||global,f=c,b=c.document,p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(s)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(e){var t=f.top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(t){return t[0]===e});return p(t,1)[0]||[]},m=function(){return(new Date).getTime()},h=function(e,t){if(e.hasOwnProperty("url")){var i=b.createElement("script");i.async=!0,i.type="text/javascript","function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()});b.location.protocol;i.src=e.url+e.file;var n=b.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}},v=f.console,y="node"===l||"true"===g("fuse_debug")[1]||!1,z=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t[0]="["+r+"]-"+t[0],"node"===l)throw new Error(t);v&&v.error&&y&&v.error.apply(null,t)},_=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0]="["+r+"]-"+t[0],v&&v.warn&&y&&v.warn.apply(null,t)},S=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0]="["+r+"]-"+t[0],v&&v.log&&y&&v.log.apply(null,t)},k=function(e){var t,i,n,s,o,r,a,d,u;f.addEventListener("resize",(t=e||function(){S("resized",f.innerWidth,f.innerHeight)},i=500,s=void 0,o=void 0,r=void 0,a=void 0,d=void 0,u=function e(){var u=m()-a;u<i&&u>=0?s=setTimeout(e,i-u):(s=null,n||(d=t.apply(r,o),s||(r=o=null)))},function(){r=this,o=arguments,a=m();var e=n&&!s;return s||(s=setTimeout(u,i)),e&&(d=t.apply(r,o),r=o=null),d}))},E=function(e){var t=n.fuse_breakpoints,i=void 0,s=e||f.innerWidth;return Object.keys(t).forEach(function(e){var n=t[e];s>n&&(!i||s<i)&&(i={size:n,name:e})}),i},A={watchForBreakpoints:function(e){var t=f.innerWidth,i=E(t).size;k(function(){t=f.innerWidth;var n=E(t).size;return n!==i?(i=n,S("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",t,n),e(!0)):e(!1)})},setResizeListener:k,getCurrentBreakpoint:E},T=JSON.parse(JSON.stringify(n.fuse_slots)),w=void 0,j=function(){return"node"===l?100:f.performance.timing.navigationStart},O=function(){return T},D=function(e){if(!e)return z("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1},N=function(e){if(!e)return z("missing parameter fuseSlotID");if("string"!=typeof e)return z("fuseSlotId should be of type string");var t=T.filter(function(t){return t.id===e});return p(t,1)[0]||!1},I=function(){b.querySelectorAll("div.fuse-custom-skin").forEach(function(e){e.parentNode.removeChild(e)})},M=j,P=function(){return w},x=function(e){return w=e},B=function(){return f.fusetag.que||[]},C=function(e){if(!e)return z("missing parameter fuseSlotNode");var t=e.getAttribute("data-fuse"),i=N(t);return i||_("[SLOTS]: There is no FuseSlot set up in the account matching the id "+t),i&&D(i),i},L=function(){return b.querySelectorAll(s+"[data-fuse]")},V=function(e){var t=b.querySelectorAll(s+'[data-fuse="'+e+'"]');return t[t.length-1]},q=function(e){var t=b.querySelectorAll(s+'[data-fuse-code="'+e+'"]');return t.length>1&&_("There should be only one div with the data-fuse-code of "+e),t[0]},F=function(e,t){if(S("[SLOTS]: Building the fuse slot for "+e.code+" ",new Date-j()),t.setAttribute("data-fuse-code",""+e.code),t.setAttribute("data-fuse-slot",""+e.slot),!t.hasChildNodes()){var i=b.createElement("div");i.setAttribute("id",""+e.code),i.className=o,t.appendChild(i)}return t},R=function(e,t){var i=e.getBoundingClientRect(),n=t?100/t:1,s=b.hidden,o=i.top<0?i.top>=-1*i.height/n:i.top>=0,r=i.left>=0,a=i.bottom-i.height/n<=(f.innerHeight||b.documentElement.clientHeight),d=i.right<=(f.innerWidth||b.documentElement.clientWidth);return!!(!s&&o&&r&&a&&d)},U=function(e){var t=A.getCurrentBreakpoint().name,i=O().filter(function(t){return t.id===e})||[],n=p(i,1)[0];return n.sizeMapping&&n.sizeMapping[t]?(Array.isArray(n.sizeMapping[t])?n.sizeMapping[t]:[n.sizeMapping[t]]).filter(function(e){return"fluid"!==e}):(_('Fuse slot "'+e+'" does not have sizemaps configured, sizeless prebid units may act strangely.'),n.sizes)},H=a,W=void 0,G=function(){var e=f.top.location.host;return e.substring(e.length-40,e.length)},J=function(){var e=f.top.location.pathname;return e.substring(e.length-40,e.length)},Q=function(){var e=f.top.location.search;return e.substring(e.length-40,e.length)},Y=function(){for(var e=[],t=f.top.location.pathname.split("/"),i=0;i<t.length;i+=1)t[i].length&&-1===t[i].indexOf(".")&&e.push(t[i]);return e},Z=function(e){if(W&&W.cmd)return W.cmd.push(e);S("googletag or googletag.cmd not exists")},K=function(e){if(W&&e)return W.pubads().getSlots().filter(function(t){return t.getSlotElementId()===e})},X=function(e,t){Z(function(){W.pubads().setTargeting(e,t)})},$=function(){var e,t,i;X("fuse_profanity",(e=f.top.location.host,t=f.top.location.pathname,i="false",n.fuse_blocked_url&&n.fuse_blocked_url.forEach(function(n){n.indexOf(e+t)>-1&&(i="true")}),i)),X("fuse_site",G()),X("fuse_path",J()),X("fuse_query",Q()),X("fuse_category",Y()),X("fuse_industry",n.fuse_industry)},ee=$,te=function(e){return h(H,function(){S("[LOAD]: 3. GPT "+(f.googletag&&f.googletag._loadStarted_?"v"+W.getVersion()+" is loaded and ready":"not loaded")),S("[TIME]: time in ms it took GPT to load",new Date-M())})},ie=function(e){var t=W.defineSlot(e.slot,e.sizes,e.code),i=Math.ceil(100*Math.random());if(t){t=function(e,t){return t.attributes&&0!==Object.keys(t.attributes).length&&Object.keys(t.attributes).forEach(function(i){e.set(i,t.attributes[i])}),e}(t=function(e,t){return t.targeting&&0!==Object.keys(t.targeting).length&&Object.keys(t.targeting).forEach(function(i){e.setTargeting(i,t.targeting[i])}),e}(t=function(e,t){if(t.sizeMapping&&0!==Object.keys(t.sizeMapping).length){var i=W.sizeMapping();Object.keys(t.sizeMapping).forEach(function(e){var s=n.fuse_breakpoints[e];i.addSize([s,0],t.sizeMapping[e])}),e.defineSizeMapping(i.build())}return e}(t,e),e),e);var s=void 0;s=i>10?"optimized":i%10==0?"benchmark":"exploration"+i%10,!1!==n.fuse_settings.adomik&&t.setTargeting("publift_mv_testing",s),t.addService(W.pubads())}return t},ne=function(){return W=f.googletag||(f.googletag={cmd:[]})},se=X,oe=Z,re=function(e){if(W){var t=void 0;return t=!e&&W.pubads().getSlots().length>0?W.pubads().getSlots()[W.pubads().getSlots().length-1].getSlotElementId():e?e.code:null,S("[BIDS]: Initialising DFP call at",new Date-(P()||M())),W.display(t)}},ae=function(e){var t=e?K(e):null;return S("[BIDS]: Making DFP call for "+(e||"all units")),W.pubads().refresh(t)},de=K,ue=function(){W.pubads().disableInitialLoad(),W.pubads().collapseEmptyDivs(!0),W.pubads().setCentering(!0),W.pubads().enableSingleRequest(),$()},le=function(e){W.pubads().addEventListener("slotRenderEnded",function(t){S("[BIDS]: Adserver responded "+(t.isEmpty?"without":"with")+" creative for "+t.slot.getSlotElementId()),S("[TIME]: time in ms it took for adserver to respond",new Date-(P()||M())),e({hasCreative:!t.isEmpty,slotId:t.slot.getSlotElementId()})})},ce=function(){W.pubads().addEventListener("impressionViewable",function(e){S("[EVENT]: AD_IMPRESSION_VIEW for "+e.slot.getSlotElementId(),new Date-(P()||M()))})},fe=function(){f.googletag.enableServices()},be=d,pe=function(){return f.pbjs=f.pbjs||(f.pbjs={que:[]})},ge=function(e){f.pbjs&&f.pbjs.que&&f.pbjs.que.push(e)},me={setConsentManagement:function(e){"function"==typeof f.__cmp&&(e.consentManagement={cmpApi:"iab",timeout:8e3,allowAuctionWithoutConsent:!0},S("[CONSENT]: window.__cmp function found, prebid consent management module in place"))},setPriceGranularity:function(e){e.priceGranularity={buckets:[{min:0,max:2.99,increment:.01,precision:2},{min:3,max:9.9,increment:.1,precision:2},{min:10,max:49,increment:1,precision:2},{min:50,max:100,increment:10,precision:2}]}},setEnableSendAllBids:function(e){e.enableSendAllBids=!1},setSizeConfig:function(e,t){if(t&&t.fuse_settings&&t.fuse_settings.responsive){var i=null;e.sizeConfig=[],Object.keys(t.fuse_breakpoints).forEach(function(n){e.sizeConfig.push({mediaQuery:"(min-width:"+t.fuse_breakpoints[n]+"px)"+(i?" and (max-width: "+(i-1)+"px)":""),sizesSupported:t.supported_sizes[n],labels:[n]}),i=t.fuse_breakpoints[n]})}}},he=function(e){e.prebid_analytics&&e.prebid_analytics.length&&e.prebid_analytics.forEach(function(e,t){0!==t&&_("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),f.pbjs.enableAnalytics(e),S("[ANALYTICS]: Analytics enabled for "+e.provider)})},ve=function(){var e={};return me.setPriceGranularity(e),me.setEnableSendAllBids(e),me.setConsentManagement(e),me.setSizeConfig(e,n),S("[BIDS]: Setting Prebid Config"),f.pbjs.setConfig(e),he(n),e},ye=function(e){S("[BIDS]: Setting Prebid ad units "+e.code),f.pbjs.addAdUnits(e)},ze=function(e){S("[BIDS]: Requesting bids"),f.pbjs.requestBids({bidsBackHandler:e})},_e="node"===l?{prebidConfigSetters:me,setPrebidConfig:ve,createPrebidObj:pe,pushToPrebidQue:ge,setPrebidAdUnits:ye,requestPrebidBids:ze,setPrebidAnalytics:he}:{loadPrebidLibrary:function(){return"true"===g("local_prebid")[1]?(_("[LOAD]: local version of prebid in use"),be.url="./"):be.url+=t+"/"+n.fuse_id+"/",h(be,function(){S("[LOAD]: 3. Prebid "+(f.pbjs&&f.pbjs.libLoaded?f.pbjs.version+" is loaded and ready":"not loaded")),S("[TIME]: time in ms it took Prebid to load",new Date-M())})},createPrebidObj:pe,pushToPrebidQue:ge,setPrebidConfig:ve,setPrebidAdUnits:ye,requestPrebidBids:ze,sendPrebidAdserverRequest:function(e){!f.pbjs||f.pbjs&&f.pbjs.adserverRequestSent||(f.pbjs.adserverRequestSent=!0,S("[BIDS]: Setting adserver request from "+e),oe(function(){ge(function(){f.pbjs.setTargetingForGPTAsync();var e=f.pbjs.getAdserverTargeting();0!==Object.keys(e).length&&Object.keys(e).forEach(function(t){S("[BIDS]: Winning bid for slot "+t+" of "+e[t].hb_pb+" returned before timeout")}),ae()})}))}},Se=function(e,t){var i=e;f.addEventListener("scroll",function(e,t,i){var n=void 0,s=void 0,o=void 0,r=null,a=0;i||(i={});var d=function(){a=!1===i.leading?0:m(),r=null,o=e.apply(n,s),r||(n=s=null)};return function(){var u=m();a||!1!==i.leading||(a=u);var l=t-(u-a);return n=this,s=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),a=u,o=e.apply(n,s),r||(n=s=null)):r||!1===i.trailing||(r=setTimeout(d,l)),o}}(function(){R(i)&&t()},50))},ke=u,Ee={loadAdBlocklLibrary:function(){return h(ke,function(){S("[LOAD]: 3. Adblock script loaded."),S("[TIME]: time in ms to load Adblock script",new Date-M())})},createAdBlockObj:function(){return f.Criteo||(f.Criteo={events:[]})},buildAdBlockSlots:function(e,t){if(!(t.querySelectorAll('[id^="crt"]').length>0)&&e.attributes&&e.attributes.adblock){var i=b.createElement("DIV"),n=e.sizes&&e.sizes.length>0?e.sizes[0][1]+"px":"100%",s={zoneid:Number(e.attributes.adblock),containerid:"crt-"+e.code,overrideZoneFloor:!1,height:n,callbacksuccess:function(e){S("[SLOTS]: Adblock slots "+s.containerid+" loaded"),S("[TIME]: time in ms it took Adblock Slot "+s.containerid+" to load",new Date-M()),e.target.parentNode.style.display="block"}};i.id=s.containerid,i.className="fuse-adblock",t.appendChild(i),function(e){var t;f.Criteo?(t=e,f.Criteo.events.push(function(){S("[SLOTS]: Adblock slots "+t.containerid+" set up"),f.Criteo.DisplayAcceptableAdIfAdblocked(t),b.getElementById(t.containerid).style.height=t.height,b.getElementById(t.containerid).style.display="none"})):_("You need to declare the global Criteo Object first")}(s)}}},Ae=e,Te=Ae.fuse_settings,we=Ae.fuse_id,je=Ae.fuse_domain;Te.pageTargeting=[];var Oe=f.fusetag||(f.fusetag={que:[]}),De={},Ne={},Ie={},Me=f.top.location.host,Pe=function(){return Ne};Oe.loaded&&_("[LOAD]: Fuse Tag was loaded more than once."),S("[LOAD]: 1. Fuse Tag v"+i+" is loaded and ready"),S("[TIME]: time in ms it took Fuse to load",new Date-M()),ne(),te(),_e&&Te.headerbidding>0&&(_e.createPrebidObj(),_e.loadPrebidLibrary(),_e.pushToPrebidQue(function(){_e.setPrebidConfig()}),oe(function(){f.googletag.pubads().disableInitialLoad()}),S("[LOAD]: 2. Headerbidding enabled, settings and "+Te.headerbidding+"ms timeout added")),Ee&&Te.adblock>0&&(Ee.createAdBlockObj(),Ee.loadAdBlocklLibrary(),S("[LOAD]: 2. Adblock has been enabled.")),oe(function(){ue(),le(function(e){Ne[e.slotId]?Ne[e.slotId].hasCreative=e.hasCreative:S("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),ce(Ne),fe()});var xe=function(){Object.keys(Ie).forEach(function(e){return clearInterval(Ie[e])}),Ie={}},Be=function(){_e&&Te.headerbidding>0?_e.pushToPrebidQue(function(){f.pbjs&&f.pbjs.adUnits&&(f.pbjs.adUnits=f.pbjs.adUnits.map(function(e){var t=Ne[e.code];if(!t)return e;var i=U(t.id);return e.sizes=i,e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=i),e})),f.pbjs.requestBids({timeout:Te.headerbidding,bidsBackHandler:function(e){S("[BIDS]: Prebid bid response for all",e),S("[TIME]: time it took for Prebid bids to return",new Date-(P()||M())),f.pbjs.setTargetingForGPTAsync(),I(),ae()}})}):oe(function(){re(),I(),ae()})},Ce=function(e){e&&(S("[REFRESH]: Refreshing "+e+" at: ",new Date-(P()||M())),_e&&Te.headerbidding>0?_e.pushToPrebidQue(function(){if(f.pbjs&&f.pbjs.adUnits){var t=f.pbjs.adUnits[e];if(t){var i=Ne[e];if(!i)return;var n=U(i.id);t.sizes=n,t.mediaTypes&&t.mediaTypes.banner&&(t.mediaTypes.banner.sizes=n),f.pbjs.adUnits[e]=t}}f.pbjs.requestBids({timeout:Te.headerbidding,adUnitCodes:[e],bidsBackHandler:function(t){var i;S("[BIDS]: Prebid bid response for "+(i=e),t),S("[TIME]: time it took for Prebid bids to return",new Date-(P()||M())),f.pbjs.setTargetingForGPTAsync([i]),ae(i)}})}):oe(function(){ae(e)}))};A&&Te.responsive&&A.watchForBreakpoints(function(e){e&&Be()});var Le=function(e,t){Ie[e.code]&&clearInterval(Ie[e.code]),Ie[e.code]=setInterval(function(){e.element&&R(e.element,50)&&(!e.element.clientHeight&&e.hasCreative||Ce(e.code))},1e3*t)},Ve=function(e){e.attributes.refresh?(S("[LOAD]: Setting custom refresh time of "+e.attributes.refresh+" seconds for "+e.code+" at: ",new Date-M()),Le(e,e.attributes.refresh)):0===e.attributes.refresh?S("[LOAD]: No refresh timer set for "+e.code+" at: ",new Date-M()):Te.refresh&&Te.refresh>0?(S("[LOAD]: Setting global refresh time of "+Te.refresh+" seconds for "+e.code+" at: ",new Date-M()),Le(e,Te.refresh)):S("[LOAD]: No refresh timer exists in account settings.")},qe=function(){x(new Date),Ne={},De={},oe(function(){f.googletag.destroySlots(),f.googletag.pubads().clearTargeting()}),I(),xe(),_e&&Te.headerbidding>0&&pbjs.adUnits&&(pbjs.adUnits.length=0),L().forEach(function(e){var t=e.getAttribute("data-fuse-code"),i=void 0;(i=t?Pe()[t]:C(e))&&(i.code||((i=JSON.parse(JSON.stringify(i))).code=o+"-"+i.id+"-"+i.matched),F(i,e),Ee&&i.attributes&&i.attributes.adblock&&Ee.buildAdBlockSlots(i,e),Ne[i.code]=i,Ne[i.code].element=e,De[i.code]=e,!i.attributes.lazy||R(e,50)?(oe(function(){ie(i)}),_e&&Te.headerbidding>0&&_e.pushToPrebidQue(function(){_e.setPrebidAdUnits({code:i.code,mediaTypes:{banner:{sizes:U(i.id)}},bids:i.bids})}),Ve(i)):(S("[SLOTS]: Adding lazy listener for "+i.code),Se(e,function(){i.attributes.lazy&&(!function(e){S("[LOAD]: Loading "+e+" at "+(new Date-(P()||M())));var t=q(e).getAttribute("data-fuse-code");t||_("[LOAD]: No fuseCode for fuse-slot-code of "+e+", this usually means there was an error with initialisation");var i=Pe()[t];i&&(oe(function(){ie(i)}),_e&&Te.headerbidding>0&&_e.pushToPrebidQue(function(){_e.setPrebidAdUnits({code:i.code,mediaTypes:{banner:{sizes:U(i.id)}},bids:i.bids})}),oe(function(){re(i)}),Ce(i.code),Ve(i))}(i.code),i.attributes.lazy=!1)})))}),Te.pageTargeting.forEach(function(e){oe(function(){se(e.key,e.value)})}),oe(function(){ee(),re(),Be()})};Oe.loadFuseSlots=qe,Oe.loadFuseSlotById=function(e){var t=V(e);if(!t)return _("[SLOTS]: Could not find div with data-fuse attribute of "+e);var i=JSON.parse(JSON.stringify(C(t)));i&&(i.code=o+"-"+i.id+"-"+i.matched,F(i,t),Ee&&i.attributes&&i.attributes.adblock&&Ee.buildAdBlockSlots(i,t),Ne[i.code]=i,Ne[i.code].element=t,De[i.code]=t,oe(function(){ie(i)}),_e&&Te.headerbidding>0&&_e.pushToPrebidQue(function(){_e.setPrebidAdUnits({code:i.code,mediaTypes:{banner:{sizes:U(i.id)}},bids:i.bids})}),oe(function(){re(i)}),Ve(i),Ce(i.code))},Oe.getFuseUnits=function(){return De},Oe.getFuseSlots=Pe,Oe.refreshSlots=Be,Oe.refreshSlotByCode=Ce,Oe.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Ie))},Oe.getFuseSettings=function(){return JSON.parse(JSON.stringify(Ae))},"node"===l&&(Oe.getGPTSlot=de),Oe.disableRefresh=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&Ie[e]?(S("[REFRESH]: Disabling refresh for "+e),clearInterval(Ie[e])):(S("[REFRESH]: Disabling refresh for all units"),xe())},Oe.setTargeting=function(e,t){Te.pageTargeting.push({key:e,value:t}),S("[LOAD]: Adding custom targeting for [key: "+e+", value: "+t+"]")},Oe.getTargeting=function(){return Te.pageTargeting},Oe.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){z("Error processing command :",e.message,e.stack)}else z("Commands written into fusetag.que.push must be wrapped in a function")};var Fe=setInterval(function(){var e;"complete"===b.readyState||"interactive"===b.readyState?(clearInterval(Fe),S("[TIME]: time in ms it took the page to load: ",new Date-M()),function(){Oe.loaded||(Oe.loaded=!0,B().forEach(function(e){if(S("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){z("Error processing command :",e.message,e.stack)}else z("Commands written into fusetag.que.push must be wrapped in a function")}))}.call(),qe.call(),e=Me,je.indexOf(e)>-1||e.indexOf("publift.com")||e.indexOf("localhost")||z(Me+" did not match verified domains for Fuse account "+we)):S("Waiting for parent Page to finish loading. Page status is: ",b.readyState)},10);return Oe});
